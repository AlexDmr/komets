#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
#_______________________________________________ Définition of the presentations __________________________________________________
#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
inherit CometText_PM_P_FLEX PM_FLEX

#___________________________________________________________________________________________________________________________________________
method CometText_PM_P_FLEX constructor {name descr args} {
 this inherited $name $descr
   this set_GDD_id CometText_PM_P_FLEX
 eval "$objName configure $args"
 return $objName
}

#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
Methodes_set_LC CometText_PM_P_FLEX $L_methodes_set_Text {}          {}
Methodes_get_LC CometText_PM_P_FLEX $L_methodes_get_Text {$this(FC)}

#___________________________________________________________________________________________________________________________________________
Generate_PM_setters CometText_PM_P_FLEX [P_L_methodes_set_specifyer_COMET_RE]

#___________________________________________________________________________________________________________________________________________
method CometText_PM_P_FLEX Render {strm_name {dec {}}} {
 upvar $strm_name strm
 
 append strm $dec " var $objName:Text = new Text(); \n"
 append strm $dec " $objName.text=\"[this get_text]\"; \n"
 append strm $dec " Dyna_context.$objName = $objName;\n"

 this set_prim_handle        $objName
 this set_root_for_daughters $objName
 this Render_daughters strm "$dec "
 
 return [this get_prim_handle]
}
#___________________________________________________________________________________________________________________________________________
method CometText_PM_P_FLEX set_text {t} {
 puts "coucou"
    set root [this get_L_roots]
    if {[lsearch [gmlObject info classes $root] Comet_root_PM_P_FLEX] != -1} {
	   $root send_to_FLEX "${objName}.text=\"$t\";"
    }
}