inherit CometClock_PM_FC_local Physical_model

#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
method CometClock_PM_FC_local constructor {name descr args} {
 this inherited $name $descr
   this check_time
 eval "$objName configure $args"
 return $objName
}

#___________________________________________________________________________________________________________________________________________
method CometClock_PM_FC_local dispose {} {this inherited}

#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
Methodes_set_LC CometClock_PM_FC_local [L_methodes_set_Clock] {$this(FC)} {}
Methodes_get_LC CometClock_PM_FC_local [L_methodes_get_Clock] {$this(FC)}

#___________________________________________________________________________________________________________________________________________
#___________________________________________________________________________________________________________________________________________
method CometClock_PM_FC_local get_time_of_PM {} {
 return $this(time_of_PM)
}

#___________________________________________________________________________________________________________________________________________
method CometClock_PM_FC_local check_time {} {
 set this(time_of_PM) [clock seconds]
 if {[string equal [this get_LM] {}]} {} else {
   if {[string equal [this get_LC] {}]} {} else {
     if {[clock seconds] != [this get_time]} {[this get_LM] update_time $this(time_of_PM)}
    }
  }
 after 100 "catch {$objName check_time}"
}
